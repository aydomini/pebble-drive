name = "pebble-drive-api"
main = "src/index.js"
compatibility_date = "2024-01-01"

# 生产环境变量
[env.production]
vars = {
    STORAGE_QUOTA_GB = "10",
    SHARE_DOMAIN = "https://your-custom-domain.com"  # 可选：自定义分享链接域名
}

# 开发环境变量（可选）
[env.development]
vars = {
    STORAGE_QUOTA_GB = "10",
    SHARE_DOMAIN = "https://your-custom-domain.com"  # 可选：自定义分享链接域名
}

# R2 Storage Bucket（对象存储）
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "pebble-drive-storage"
preview_bucket_name = "pebble-drive-storage-preview"  # 本地开发使用

# D1 Database（SQLite数据库）
[[d1_databases]]
binding = "DB"
database_name = "pebble-drive-db"
database_id = "your-database-id-here"  # 替换为你的 D1 数据库 ID

# KV Namespace（速率限制存储）
[[kv_namespaces]]
binding = "RATE_LIMIT_KV"
id = "your-kv-id-here"  # 通过 wrangler kv namespace create RATE_LIMIT_KV 创建
preview_id = "your-preview-kv-id-here"  # 通过 wrangler kv namespace create RATE_LIMIT_KV --preview 创建
